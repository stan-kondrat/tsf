var TSF=function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=window.requestAnimationFrame||function(e){return window.setTimeout(e,0)};t.default=n,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){o=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(0),c=n(u),l=r(2),s=n(l),f=[];for(var v in document)v.startsWith("on")&&f.push(v);var p=function(){function e(t){o(this,e),this.initializedComponents=new Map,this.componentClasses=new Map,this.watcher=new s.default,this.rootElement=document.querySelector(t)}return a(e,[{key:"register",value:function(e,t){this.componentClasses.set(e,t)}},{key:"component",value:function(e,t){this.initializedComponents.set(e,t)}},{key:"run",value:function(e){this.process(e,this.rootElement)}},{key:"process",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r.innerHTML=e.prepareTemplate(n||t.$template);var o=this.prepareDynamic(t,r),i=this.processTextNodes(t,r),a=o.concat(i);this.watcher.observe(t,a),this.processEvents(t,r),this.processComponents(r),this.processDynamic(t,r,o)}},{key:"processTextNodes",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=[],i=t.querySelectorAll("[\\$innerHTML]");return[].forEach.call(i,function(t){var i=t.getAttribute("$innerHTML"),a=document.createTextNode(""),u=new Function(r.join(","),"return "+i);t.parentNode.replaceChild(a,t);var c={expr:i,component:e,customVarNames:r,customVarValues:n,textNode:a,evalFunction:u,compile:function(){a.data=u.apply(e,n)}};o.push(c),c.compile()}),o}},{key:"processEvents",value:function(e,t){var r=!0,n=!1,o=void 0;try{for(var i,a=f[Symbol.iterator]();!(r=(i=a.next()).done);r=!0)!function(){var r=i.value,n=t.querySelectorAll("[\\$"+r+"]");[].forEach.call(n,function(t){var n=new Function("$event",t.getAttribute("$"+r));t.removeAttribute("$"+r),t.addEventListener(r.substring(2),function(t){(0,c.default)(function(){return n.call(e,t)})})})}()}catch(e){n=!0,o=e}finally{try{!r&&a.return&&a.return()}finally{if(n)throw o}}}},{key:"prepareDynamic",value:function(e,t){for(var r=this,n=[],o=t.querySelector("[\\$if]");o&&o.getAttribute;)!function(){var i=o.getAttribute("$if");o.removeAttribute("$if");var a=o.outerHTML,u=document.createTextNode(""),c=new Function("","return "+i);o.parentNode.replaceChild(u,o);var l=void 0,s={expr:i,component:e,customVarNames:[],customVarValues:[],textNode:u,evalFunction:c,compile:function(){if(c.apply(e)){var t=document.createElement("div");t.innerHTML=a,l=t.firstChild,u.parentNode.insertBefore(l,u),r.process(e,l,l.innerHTML)}else l&&(l.remove(),l=null)}};n.push(s),o=t.querySelector("[\\$if]")}();return n}},{key:"processDynamic",value:function(e,t,r){r.forEach(function(e){return e.compile()})}},{key:"processComponents",value:function(e){var t=this,r=!0,n=!1,o=void 0;try{for(var a,u=this.initializedComponents[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){var c=i(a.value,2),l=c[0],s=c[1],f=e.querySelector(l);f&&this.process(s,f)}}catch(e){n=!0,o=e}finally{try{!r&&u.return&&u.return()}finally{if(n)throw o}}var v=!0,p=!1,y=void 0;try{for(var d,h=this.componentClasses[Symbol.iterator]();!(v=(d=h.next()).done);v=!0)!function(){var r=i(d.value,2),n=r[0],o=r[1],a=e.querySelectorAll(n);[].forEach.call(a,function(e){t.process(new o,e)})}()}catch(e){p=!0,y=e}finally{try{!v&&h.return&&h.return()}finally{if(p)throw y}}}}],[{key:"prepareTemplate",value:function(e){return e=e.replace(new RegExp("{{([^}]+)}}","g"),function(e,t){return'<text $innerHTML="'+t+'"></text>'})}}]),e}();t.default=p,e.exports=t.default},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(0),u=function(e){return e&&e.__esModule?e:{default:e}}(a),c=function(){function e(){n(this,e),this.allWatchedObjects=new Map,this.bindingsByAttr={}}return i(e,[{key:"observe",value:function(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"this.";if("object"===(void 0===t?"undefined":o(t))){var i=void 0;this.allWatchedObjects.has(t)?(i=this.allWatchedObjects.get(t),i=i.concat(r)):i=r,this.allWatchedObjects.set(t,i),e.isObject(t)&&this.observeObject(t,r,n),e.isArray(t)&&this.observeArray(t,r,n)}}},{key:"compileBinding",value:function(e,t){var r=this.allWatchedObjects.get(e);(0,u.default)(function(){r.forEach(function(e){var r=t,n=void 0;do{-1!==e.expr.indexOf(r)&&e.compile(),n=r.lastIndexOf("."),r=t.substr(0,n)}while(4!==n)})})}},{key:"observeObject",value:function(e,t,r){var n=this,o={};"$data"in e?o=e.$data:Object.defineProperty(e,"$data",{value:o,writable:!0});for(var i in e){(function(i){if(!e.hasOwnProperty(i))return"continue";if("$template"===i||"$data"===i)return"continue";var a=r+i;o[a]=e[i],n.observe(e[i],t,a+"."),Object.defineProperty(e,i,{get:function(){return o[a]},set:function(r){o[a]=r,n.observe(r,t,a+"."),n.compileBinding(e,a)}})})(i)}}},{key:"observeArray",value:function(e,t,r){var n=this,o=[];Object.defineProperty(e,"$data",{value:o,writable:!0});for(var i=0;i<e.length;i++)o[i]=e[i],this.observeArrayDefineIndexProperty(e,t,i,r);Object.defineProperty(e,"push",{configurable:!1,enumerable:!1,writable:!1,value:function(){for(var i=arguments.length,a=Array(i),u=0;u<i;u++)a[u]=arguments[u];var c=o.length,l=!0,s=!1,f=void 0;try{for(var v,p=a[Symbol.iterator]();!(l=(v=p.next()).done);l=!0){var y=v.value;o[c]=y,n.observe(y,t,r+"."+c+"."),n.observeArrayDefineIndexProperty(e,t,c,r),c++}}catch(e){s=!0,f=e}finally{try{!l&&p.return&&p.return()}finally{if(s)throw f}}return n.compileBinding(e,r),c}}),Object.defineProperty(e,"splice",{configurable:!1,enumerable:!1,writable:!1,value:function(i,a){for(var u=arguments.length,c=Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=arguments[l];i=null==i?0:i<0?o.length+i:i,a=null==a?o.length-i:a>0?a:0;for(var s=[];a--;)s.push(o.splice(i,1)[0]),e.length=o.length;var f=!0,v=!1,p=void 0;try{for(var y,d=c[Symbol.iterator]();!(f=(y=d.next()).done);f=!0){var h=y.value;o.splice(i,0,h),n.observeArrayDefineIndexProperty(e,t,o.length-1,r)}}catch(e){v=!0,p=e}finally{try{!f&&d.return&&d.return()}finally{if(v)throw p}}return n.compileBinding(e,r),s}})}},{key:"observeArrayDefineIndexProperty",value:function(e,t,r,n){var o=this;Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){return e.$data[r]},set:function(i){e.$data[r]=i,o.observe(i,t,n+"."+r+"."),o.compileBinding(e,n)}})}}],[{key:"isObject",value:function(e){return"[object Object]"===Object.prototype.toString.apply(e)}},{key:"isArray",value:function(e){return"[object Array]"===Object.prototype.toString.apply(e)}}]),e}();t.default=c,e.exports=t.default}]);